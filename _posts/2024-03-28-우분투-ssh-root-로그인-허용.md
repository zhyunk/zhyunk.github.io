---
layout: post
title: 우분투 ssh root 로그인 허용
date: 2024-03-28 17:10:36 +0900
author: zhyun
categories:
  - Ubuntu
tags:
  - ubuntu
  - ssh
  - root
  - vi
  - search
mermaid: false
pin: false
---

> 참고 : <https://nov19.tistory.com/95>{{ site.target-blank }}
{: .prompt-info }

<br>

ssh로 우분투 서버에 접속할 때 root 계정으로 로그인 하려면,  
우분투 서버의 ssh 설정에서 root 계정에 대한 설정을 추가해주어야 한다.  

<br>

## 1. 사용자 계정으로 우분투 서버 접근
putty를 통해 사용자 계정으로 우분투 서버 접속

<br>

## 2. ssh 설정 실행
```bash
sudo vi /etc/ssh/sshd_config
```

<br>


## 3. PermitRootLogin 검색

### 🔎 vi에서 단어 검색 방법
#### 1. 대소문자 구분
```bash
/단어
```
![image](/assets/img/2024-03-28-우분투-ssh-root-로그인-허용/Pasted-image-20240328164828.png)  


#### 2. 대소문자 구분 없이
> 참고 : <https://crmn.tistory.com/42>{{ site.target-blank }}
{: prompt-info }

단어 앞이나 뒤에 `\c` 입력

```bash
/단어\c
```
```bash
/\c단어
```
![image](/assets/img/2024-03-28-우분투-ssh-root-로그인-허용/Pasted-image-20240328164917.png)  

<br>

위 형태로 입력 한 다음 엔터키를 입력하고 n 또는 N을 입력해서 탐색   
(n: 아래로 탐색, N: 위로 탐색)

<br>

## 4. PermitRootLogin 설정 수정
이 설정이 주석 처리 되어있는데, 주석을 해제하고 값을 변경해준다.

![image](/assets/img/2024-03-28-우분투-ssh-root-로그인-허용/Pasted-image-20240328165350.png)

`prohibit-password`로 설정하면 pem key를 통한 로그인을 허용하게 되고,  
`yes`로 설정하면 비밀번호를 통한 로그인을 허용하게 된다.  

<br>

## 5. ssh 재시작
설정 후 vi를 빠져나와 ssh를 재시작한다.

```bash
sudo service ssh restart
```

<br>

## 6. root 계정으로 ssh 접속 확인
새로운 putty를 실행해서 root 계정으로 로그인 시도를 해보면 접속이 됨을 확인할 수 있다.
![image](/assets/img/2024-03-28-우분투-ssh-root-로그인-허용/Pasted-image-20240328170426.png)  


{{ site.line }}

## 작성하게 된 계기

> 한 줄 요약 : 혼자 작업하는 서버에서 root로 로그인하여 sudo 없이 작업하고 싶었다
{: .prompt-tip }

혼자 작업하는 환경에서 명령어를 입력 할 때 마다 sudo를 입력하기가 번거롭다고 생각했고, 그렇다고 사용자 계정으로 접속한 다음에 root로 다시 로그인 하는 것도 번거롭다고 생각해서 처음부터 root 계정으로 로그인하고자 알아보게 되었다.

